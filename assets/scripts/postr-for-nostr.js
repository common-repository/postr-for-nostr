/*! For license information please see postr-for-nostr.js.LICENSE.txt */
(()=>{var e={320:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function r(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function o(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function i(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=n,t.bool=r,t.bytes=o,t.hash=i,t.exists=s,t.output=a;const c={number:n,bool:r,bytes:o,hash:i,exists:s,output:a};t.default=c},505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const r=n(320),o=n(89);class i extends o.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,o.createView)(this.buffer)}update(e){r.default.exists(this);const{view:t,buffer:n,blockLen:i}=this,s=(e=(0,o.toBytes)(e)).length;for(let r=0;r<s;){const a=Math.min(i-this.pos,s-r);if(a!==i)n.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,o.createView)(e);for(;i<=s-r;r+=i)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){r.default.exists(this),r.default.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,o.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)c.setUint32(4*e,f[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}}t.SHA2=i},873:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const n=BigInt(2**32-1),r=BigInt(32);function o(e,t=!1){return t?{h:Number(e&n),l:Number(e>>r&n)}:{h:0|Number(e>>r&n),l:0|Number(e&n)}}function i(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=o(e[i],t);[n[i],r[i]]=[s,a]}return[n,r]}function s(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}}t.fromBig=o,t.split=i,t.toBig=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0),t.add=s;const a={fromBig:o,split:i,toBig:t.toBig,shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:s,add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,add5H:(e,t,n,r,o,i)=>t+n+r+o+i+(e/2**32|0)|0,add5L:(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0)};t.default=a},945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},569:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const r=n(320),o=n(89);class i extends o.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,r.default.hash(e);const n=(0,o.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return r.default.exists(this),this.iHash.update(e),this}digestInto(e){r.default.exists(this),r.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.hmac=(e,t,n)=>new i(e,t).update(n).digest(),t.hmac.create=(e,t)=>new i(e,t)},23:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2Async=t.pbkdf2=void 0;const r=n(320),o=n(569),i=n(89);function s(e,t,n,s){r.default.hash(e);const a=(0,i.checkOpts)({dkLen:32,asyncTick:10},s),{c,dkLen:l,asyncTick:u}=a;if(r.default.number(c),r.default.number(l),r.default.number(u),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const f=(0,i.toBytes)(t),d=(0,i.toBytes)(n),h=new Uint8Array(l),p=o.hmac.create(e,f),y=p._cloneInto().update(d);return{c,dkLen:l,asyncTick:u,DK:h,PRF:p,PRFSalt:y}}function a(e,t,n,r,o){return e.destroy(),t.destroy(),r&&r.destroy(),o.fill(0),n}t.pbkdf2=function(e,t,n,r){const{c:o,dkLen:c,DK:l,PRF:u,PRFSalt:f}=s(e,t,n,r);let d;const h=new Uint8Array(4),p=(0,i.createView)(h),y=new Uint8Array(u.outputLen);for(let e=1,t=0;t<c;e++,t+=u.outputLen){const n=l.subarray(t,t+u.outputLen);p.setInt32(0,e,!1),(d=f._cloneInto(d)).update(h).digestInto(y),n.set(y.subarray(0,n.length));for(let e=1;e<o;e++){u._cloneInto(d).update(y).digestInto(y);for(let e=0;e<n.length;e++)n[e]^=y[e]}}return a(u,f,l,d,y)},t.pbkdf2Async=async function(e,t,n,r){const{c:o,dkLen:c,asyncTick:l,DK:u,PRF:f,PRFSalt:d}=s(e,t,n,r);let h;const p=new Uint8Array(4),y=(0,i.createView)(p),g=new Uint8Array(f.outputLen);for(let e=1,t=0;t<c;e++,t+=f.outputLen){const n=u.subarray(t,t+f.outputLen);y.setInt32(0,e,!1),(h=d._cloneInto(h)).update(p).digestInto(g),n.set(g.subarray(0,n.length)),await(0,i.asyncLoop)(o-1,l,(e=>{f._cloneInto(h).update(g).digestInto(g);for(let e=0;e<n.length;e++)n[e]^=g[e]}))}return a(f,d,u,h,g)}},248:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const r=n(505),o=n(89),i=(e,t,n)=>e&t^e&n^t&n,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class l extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[e,t,n,r,o,i,s,a]}set(e,t,n,r,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],n=c[e-2],r=(0,o.rotr)(t,7)^(0,o.rotr)(t,18)^t>>>3,i=(0,o.rotr)(n,17)^(0,o.rotr)(n,19)^n>>>10;c[e]=i+c[e-7]+r+c[e-16]|0}let{A:n,B:r,C:a,D:l,E:u,F:f,G:d,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,o.rotr)(u,6)^(0,o.rotr)(u,11)^(0,o.rotr)(u,25))+((p=u)&f^~p&d)+s[e]+c[e]|0,y=((0,o.rotr)(n,2)^(0,o.rotr)(n,13)^(0,o.rotr)(n,22))+i(n,r,a)|0;h=d,d=f,f=u,u=l+t|0,l=a,a=r,r=n,n=t+y|0}var p;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,l=l+this.D|0,u=u+this.E|0,f=f+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(n,r,a,l,u,f,d,h)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends l{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,o.wrapConstructor)((()=>new l)),t.sha224=(0,o.wrapConstructor)((()=>new u))},262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const r=n(505),o=n(873),i=n(89),[s,a]=o.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),c=new Uint32Array(80),l=new Uint32Array(80);class u extends r.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:f,Gh:d,Gl:h,Hh:p,Hl:y}=this;return[e,t,n,r,o,i,s,a,c,l,u,f,d,h,p,y]}set(e,t,n,r,o,i,s,a,c,l,u,f,d,h,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|f,this.Gh=0|d,this.Gl=0|h,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t),l[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],n=0|l[e-15],r=o.default.rotrSH(t,n,1)^o.default.rotrSH(t,n,8)^o.default.shrSH(t,n,7),i=o.default.rotrSL(t,n,1)^o.default.rotrSL(t,n,8)^o.default.shrSL(t,n,7),s=0|c[e-2],a=0|l[e-2],u=o.default.rotrSH(s,a,19)^o.default.rotrBH(s,a,61)^o.default.shrSH(s,a,6),f=o.default.rotrSL(s,a,19)^o.default.rotrBL(s,a,61)^o.default.shrSL(s,a,6),d=o.default.add4L(i,f,l[e-7],l[e-16]),h=o.default.add4H(d,r,u,c[e-7],c[e-16]);c[e]=0|h,l[e]=0|d}let{Ah:n,Al:r,Bh:i,Bl:u,Ch:f,Cl:d,Dh:h,Dl:p,Eh:y,El:g,Fh:b,Fl:m,Gh:w,Gl:v,Hh:E,Hl:x}=this;for(let e=0;e<80;e++){const t=o.default.rotrSH(y,g,14)^o.default.rotrSH(y,g,18)^o.default.rotrBH(y,g,41),k=o.default.rotrSL(y,g,14)^o.default.rotrSL(y,g,18)^o.default.rotrBL(y,g,41),A=y&b^~y&w,B=g&m^~g&v,R=o.default.add5L(x,k,B,a[e],l[e]),_=o.default.add5H(R,E,t,A,s[e],c[e]),S=0|R,O=o.default.rotrSH(n,r,28)^o.default.rotrBH(n,r,34)^o.default.rotrBH(n,r,39),I=o.default.rotrSL(n,r,28)^o.default.rotrBL(n,r,34)^o.default.rotrBL(n,r,39),L=n&i^n&f^i&f,T=r&u^r&d^u&d;E=0|w,x=0|v,w=0|b,v=0|m,b=0|y,m=0|g,({h:y,l:g}=o.default.add(0|h,0|p,0|_,0|S)),h=0|f,p=0|d,f=0|i,d=0|u,i=0|n,u=0|r;const U=o.default.add3L(S,I,T);n=o.default.add3H(U,_,O,L),r=0|U}({h:n,l:r}=o.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:u}=o.default.add(0|this.Bh,0|this.Bl,0|i,0|u)),({h:f,l:d}=o.default.add(0|this.Ch,0|this.Cl,0|f,0|d)),({h,l:p}=o.default.add(0|this.Dh,0|this.Dl,0|h,0|p)),({h:y,l:g}=o.default.add(0|this.Eh,0|this.El,0|y,0|g)),({h:b,l:m}=o.default.add(0|this.Fh,0|this.Fl,0|b,0|m)),({h:w,l:v}=o.default.add(0|this.Gh,0|this.Gl,0|w,0|v)),({h:E,l:x}=o.default.add(0|this.Hh,0|this.Hl,0|E,0|x)),this.set(n,r,i,u,f,d,h,p,y,g,b,m,w,v,E,x)}roundClean(){c.fill(0),l.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=u;class f extends u{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class d extends u{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class h extends u{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,i.wrapConstructor)((()=>new u)),t.sha512_224=(0,i.wrapConstructor)((()=>new f)),t.sha512_256=(0,i.wrapConstructor)((()=>new d)),t.sha384=(0,i.wrapConstructor)((()=>new h))},89:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const r=n(945);if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function i(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function s(e){if("string"==typeof e&&(e=i(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}t.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=o[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t},t.nextTick=async()=>{},t.asyncLoop=async function(e,n,r){let o=Date.now();for(let i=0;i<e;i++){r(i);const e=Date.now()-o;e>=0&&e<n||(await(0,t.nextTick)(),o+=e)}},t.utf8ToBytes=i,t.toBytes=s,t.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n},t.Hash=class{clone(){return this._cloneInto()}},t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new TypeError("Options should be object or undefined");var n;return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(s(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},187:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function r(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function o(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(n(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function i(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function s(e,t="="){if(n(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function a(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function c(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let o=0;const i=[],s=Array.from(e);for(s.forEach((e=>{if(n(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,n=!0;for(let i=o;i<s.length;i++){const a=s[i],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");if(e=c%r,s[i]=Math.floor(c/r),!Number.isSafeInteger(s[i])||s[i]*r+e!==c)throw new Error("convertRadix: carry overflow");n&&(s[i]?n=!1:o=i)}if(i.push(e),n)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const l=(e,t)=>t?l(t,e%t):e,u=(e,t)=>e+(t-l(e,t));function f(e,t,r,o){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(u(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${u(t,r)}`);let i=0,s=0;const a=2**r-1,c=[];for(const o of e){if(n(o),o>=2**t)throw new Error(`convertRadix2: invalid data word=${o} from=${t}`);if(i=i<<t|o,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!o&&s>=t)throw new Error("Excess padding");if(!o&&i)throw new Error(`Non-zero padding: ${i}`);return o&&s>0&&c.push(i>>>0),c}function d(e){return n(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(c(t,e,256))}}}function h(e,t=!1){if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(u(8,e)>32||u(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return f(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(f(n,e,8,t))}}}function p(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function y(e,t){if(n(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),o=new Uint8Array(n.length+e);return o.set(n),o.set(r,n.length),o},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),o=t(r).slice(0,e),i=n.slice(-e);for(let t=0;t<e;t++)if(o[t]!==i[t])throw new Error("Invalid checksum");return r}}}t.utils={alphabet:o,chain:r,checksum:y,radix:d,radix2:h,join:i,padding:s},t.base16=r(h(4),o("0123456789ABCDEF"),i("")),t.base32=r(h(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),i("")),t.base32hex=r(h(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),i("")),t.base32crockford=r(h(5),o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),a((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=r(h(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),i("")),t.base64url=r(h(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),i(""));const g=e=>r(d(58),o(e),i(""));t.base58=g("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=g("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=g("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const b=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let n="";for(let r=0;r<e.length;r+=8){const o=e.subarray(r,r+8);n+=t.base58.encode(o).padStart(b[o.length],"1")}return n},decode(e){let n=[];for(let r=0;r<e.length;r+=11){const o=e.slice(r,r+11),i=b.indexOf(o.length),s=t.base58.decode(o);for(let e=0;e<s.length-i;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");n=n.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(n)}},t.base58check=e=>r(y(4,(t=>e(e(t)))),t.base58);const m=r(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),w=[996825010,642813549,513874426,1027748829,705979059];function v(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<w.length;e++)1==(t>>e&1)&&(n^=w[e]);return n}function E(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=v(o)^n>>5}o=v(o);for(let t=0;t<r;t++)o=v(o)^31&e.charCodeAt(t);for(let e of t)o=v(o)^e;for(let e=0;e<6;e++)o=v(o);return o^=n,m.encode(f([o%2**30],30,5,!1))}function x(e){const t="bech32"===e?1:734539939,n=h(5),r=n.decode,o=n.encode,i=p(r);function s(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(e=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,o),s=e.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=m.decode(s).slice(0,-6),c=E(i,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const o=e.length+7+n.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${m.encode(n)}${E(e,n,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:p(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}t.bech32=x("bech32"),t.bech32m=x("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=r(h(4),o("0123456789abcdef"),i(""),a((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const k={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},A=`Invalid encoding type. Available types: ${Object.keys(k).join(", ")}`;t.bytesToString=(e,t)=>{if("string"!=typeof e||!k.hasOwnProperty(e))throw new TypeError(A);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return k[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!k.hasOwnProperty(e))throw new TypeError(A);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return k[e].decode(t)},t.bytes=t.stringToBytes},286:(e,t,n)=>{"use strict";t.Z1=t._I=t.OF=void 0;const r=n(320),o=n(23),i=n(248),s=n(262),a=n(89),c=n(187);function l(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function u(e){const t=l(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function f(e){r.default.bytes(e,16,20,24,28,32)}t.OF=function(e,t=128){if(r.default.number(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function(e,t){return f(e),h(t).encode(e).join((e=>"あいこくしん"===e[0])(t)?"　":" ")}((0,a.randomBytes)(t/8),e)};const d=e=>{const t=8-e.length/4;return new Uint8Array([(0,i.sha256)(e)[0]>>t<<t])};function h(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),c.utils.chain(c.utils.checksum(1,d),c.utils.radix2(11,!0),c.utils.alphabet(e))}t._I=function(e,t){try{!function(e,t){const{words:n}=u(e),r=h(t).decode(n);f(r)}(e,t)}catch(e){return!1}return!0};t.Z1=function(e,t=""){return(0,o.pbkdf2)(s.sha512,u(e).nfkd,(e=>l(`mnemonic${e}`))(t),{c:2048,dkLen:64})}},83:(e,t)=>{"use strict";t.U=void 0,t.U="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n")},61:(e,t,n)=>{var r=n(698).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),a=new S(r||[]);return s(i,"_invoke",{value:A(e,n,a)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p={};function y(){}function g(){}function b(){}var m={};f(m,c,(function(){return this}));var w=Object.getPrototypeOf,v=w&&w(w(O([])));v&&v!==n&&i.call(v,c)&&(m=v);var E=b.prototype=y.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,s,a,c){var l=h(e[o],e,s);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==r(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var o;s(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function A(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=B(s,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function B(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,B(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:I}}function I(){return{value:void 0,done:!0}}return g.prototype=b,s(E,"constructor",{value:b,configurable:!0}),s(b,"constructor",{value:g,configurable:!0}),g.displayName=f(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,f(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(k.prototype),f(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new k(d(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(E),f(E,u,"Generator"),f(E,c,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:(e,t,n)=>{var r=n(61)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,s,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw o}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(e),n.d(e,{dQ:()=>M,ci:()=>j,bytesToNumberBE:()=>D,ty:()=>F,eV:()=>V,n$:()=>Y,ql:()=>z,hexToBytes:()=>P,tL:()=>q,S5:()=>K,iY:()=>G,FF:()=>Q});var c=n(687),l=n.n(c);function u(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function f(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const d={number:u,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:f,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");u(e.outputLen),u(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){f(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},h="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,p=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),y=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const g=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function b(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=g[e[n]];return t}function m(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function w(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function v(e){if("string"==typeof e&&(e=w(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function E(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n}class x{clone(){return this._cloneInto()}}function k(e){const t=t=>e().update(v(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function A(e=32){if(h&&"function"==typeof h.getRandomValues)return h.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class B extends x{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=p(this.buffer)}update(e){d.exists(this);const{view:t,buffer:n,blockLen:r}=this,o=(e=v(e)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=p(e);for(;r<=o-i;i+=r)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){d.exists(this),d.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:o}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let e=i;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}(n,r-8,BigInt(8*this.length),o),this.process(n,0);const s=p(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}}const R=(e,t,n)=>e&t^e&n^t&n,_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),S=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),O=new Uint32Array(64);class I extends B{constructor(){super(64,32,8,!1),this.A=0|S[0],this.B=0|S[1],this.C=0|S[2],this.D=0|S[3],this.E=0|S[4],this.F=0|S[5],this.G=0|S[6],this.H=0|S[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[e,t,n,r,o,i,s,a]}set(e,t,n,r,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)O[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=O[e-15],n=O[e-2],r=y(t,7)^y(t,18)^t>>>3,o=y(n,17)^y(n,19)^n>>>10;O[e]=o+O[e-7]+r+O[e-16]|0}let{A:n,B:r,C:o,D:i,E:s,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(y(s,6)^y(s,11)^y(s,25))+((u=s)&a^~u&c)+_[e]+O[e]|0,f=(y(n,2)^y(n,13)^y(n,22))+R(n,r,o)|0;l=c,c=a,a=s,s=i+t|0,i=o,o=r,r=n,n=t+f|0}var u;n=n+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,o,i,s,a,c,l)}roundClean(){O.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class L extends I{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const T=k((()=>new I)),U=(k((()=>new L)),BigInt(0),BigInt(1)),H=BigInt(2),N=e=>e instanceof Uint8Array,C=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function j(e){if(!N(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=C[e[n]];return t}function $(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function P(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("invalid byte sequence");t[n]=i}return t}function D(e){return $(j(e))}function F(e){if(!N(e))throw new Error("Uint8Array expected");return $(j(Uint8Array.from(e).reverse()))}const q=(e,t)=>P(e.toString(16).padStart(2*t,"0")),K=(e,t)=>q(e,t).reverse();function z(e,t,n){let r;if("string"==typeof t)try{r=P(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!N(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const o=r.length;if("number"==typeof n&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function V(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!N(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}function G(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}const M=e=>(H<<BigInt(e-1))-U,W=e=>new Uint8Array(e),Z=e=>Uint8Array.from(e);function Y(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=W(e),o=W(e),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...e)=>n(o,r,...e),c=(e=W())=>{o=a(Z([0]),e),r=a(),0!==e.length&&(o=a(Z([1]),e),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return V(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(l()));)c();return s(),n}}const J={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Q(e,t,n={}){const r=(t,n,r)=>{const o=J[n];if("function"!=typeof o)throw new Error(`Invalid validator "${n}", expected function`);const i=e[t];if(!(r&&void 0===i||o(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}const X=BigInt(0),ee=BigInt(1),te=BigInt(2),ne=BigInt(3),re=BigInt(4),oe=BigInt(5),ie=BigInt(8);function se(e,t){const n=e%t;return n>=X?n:t+n}function ae(e,t,n){if(n<=X||t<X)throw new Error("Expected power/modulo > 0");if(n===ee)return X;let r=ee;for(;t>X;)t&ee&&(r=r*e%n),e=e*e%n,t>>=ee;return r}function ce(e,t,n){let r=e;for(;t-- >X;)r*=r,r%=n;return r}function le(e,t){if(e===X||t<=X)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=se(e,t),r=t,o=X,i=ee,s=ee,a=X;for(;n!==X;){const e=r/n,t=r%n,c=o-s*e,l=i-a*e;r=n,n=t,o=s,i=a,s=c,a=l}if(r!==ee)throw new Error("invert: does not exist");return se(o,t)}BigInt(9),BigInt(16);const ue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fe(e){return Q(e,ue.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function de(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}const he=BigInt(0),pe=BigInt(1);function ye(e){return fe(e.Fp),Q(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...de(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:ge,hexToBytes:be}=e,me={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=me;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:ge(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=me,n="string"==typeof e?be(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:i}=me._parseInt(n.subarray(2)),{d:s,l:a}=me._parseInt(i);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),o=t(n(e.r)),i=r.length/2,s=o.length/2,a=n(i),c=n(s);return`30${n(s+i+4)}02${c}${o}02${a}${r}`}},we=BigInt(0),ve=BigInt(1),Ee=BigInt(2),xe=BigInt(3),ke=BigInt(4);function Ae(e){const t=function(e){const t=ye(e);return Q(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,o=n.BYTES+1,i=2*n.BYTES+1;function s(e){return se(e,r)}function a(e){return le(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:f}=function(e){const t=function(e){const t=ye(e);Q(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const o=t.toAffine();return V(Uint8Array.from([4]),n.toBytes(o.x),n.toBytes(o.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function i(e){const{a:r,b:o}=t,i=n.sqr(e),s=n.mul(i,e);return n.add(n.add(s,n.mul(e,r)),o)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&we<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:o,n:i}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=j(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:D(z("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return o&&(s=se(s,i)),a(s),s}const l=new Map;function u(e){if(!(e instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof f)throw new Error("projective point not allowed");const o=e=>n.eql(e,n.ZERO);return o(t)&&o(r)?f.ZERO:new f(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(f.fromAffine)}static fromHex(e){const t=f.fromAffine(o(z("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const o=n.sqr(r),s=i(e);if(!n.eql(o,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:o}=this,{px:i,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(i,o)),l=n.eql(n.mul(r,a),n.mul(s,o));return c&&l}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,o=n.mul(r,xe),{px:i,py:s,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(i,i),h=n.mul(s,s),p=n.mul(a,a),y=n.mul(i,s);return y=n.add(y,y),u=n.mul(i,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(o,p),l=n.add(c,l),c=n.sub(h,l),l=n.add(h,l),l=n.mul(c,l),c=n.mul(y,c),u=n.mul(o,u),p=n.mul(e,p),y=n.sub(d,p),y=n.mul(e,y),y=n.add(y,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,y),l=n.add(l,d),p=n.mul(s,a),p=n.add(p,p),d=n.mul(p,y),c=n.sub(c,d),u=n.mul(p,h),u=n.add(u,u),u=n.add(u,u),new f(c,l,u)}add(e){u(e);const{px:r,py:o,pz:i}=this,{px:s,py:a,pz:c}=e;let l=n.ZERO,d=n.ZERO,h=n.ZERO;const p=t.a,y=n.mul(t.b,xe);let g=n.mul(r,s),b=n.mul(o,a),m=n.mul(i,c),w=n.add(r,o),v=n.add(s,a);w=n.mul(w,v),v=n.add(g,b),w=n.sub(w,v),v=n.add(r,i);let E=n.add(s,c);return v=n.mul(v,E),E=n.add(g,m),v=n.sub(v,E),E=n.add(o,i),l=n.add(a,c),E=n.mul(E,l),l=n.add(b,m),E=n.sub(E,l),h=n.mul(p,v),l=n.mul(y,m),h=n.add(l,h),l=n.sub(b,h),h=n.add(b,h),d=n.mul(l,h),b=n.add(g,g),b=n.add(b,g),m=n.mul(p,m),v=n.mul(y,v),b=n.add(b,m),m=n.sub(g,m),m=n.mul(p,m),v=n.add(v,m),g=n.mul(b,v),d=n.add(d,g),g=n.mul(E,v),l=n.mul(w,l),l=n.sub(l,g),g=n.mul(w,b),h=n.mul(E,h),h=n.add(h,g),new f(l,d,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return h.wNAFCached(this,l,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(f.fromAffine)}))}multiplyUnsafe(e){const r=f.ZERO;if(e===we)return r;if(a(e),e===ve)return this;const{endo:o}=t;if(!o)return h.unsafeLadder(this,e);let{k1neg:i,k1:s,k2neg:c,k2:l}=o.splitScalar(e),u=r,d=r,p=this;for(;s>we||l>we;)s&ve&&(u=u.add(p)),l&ve&&(d=d.add(p)),p=p.double(),s>>=ve,l>>=ve;return i&&(u=u.negate()),c&&(d=d.negate()),d=new f(n.mul(d.px,o.beta),d.py,d.pz),u.add(d)}multiply(e){a(e);let r,o,i=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(i);let{p:l,f:u}=this.wNAF(t),{p:d,f:p}=this.wNAF(c);l=h.constTimeNegate(e,l),d=h.constTimeNegate(a,d),d=new f(n.mul(d.px,s.beta),d.py,d.pz),r=l.add(d),o=u.add(p)}else{const{p:e,f:t}=this.wNAF(i);r=e,o=t}return f.normalizeZ([r,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=f.BASE,o=(e,t)=>t!==we&&t!==ve&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),i=o(this,t).add(o(e,n));return i.is0()?void 0:i}toAffine(e){const{px:t,py:r,pz:o}=this,i=this.is0();null==e&&(e=i?n.ONE:n.inv(o));const s=n.mul(t,e),a=n.mul(r,e),c=n.mul(o,e);if(i)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===ve)return!0;if(n)return n(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===ve?this:n?n(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(f,this,e)}toHex(e=!0){return j(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,h=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,o=t;for(;n>he;)n&pe&&(r=r.add(o)),o=o.double(),n>>=pe;return r},precomputeWindow(e,t){const{windows:n,windowSize:o}=r(t),i=[];let s=e,a=s;for(let e=0;e<n;e++){a=s,i.push(a);for(let e=1;e<o;e++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(t,o,i){const{windows:s,windowSize:a}=r(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),f=2**t,d=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let r=Number(i&u);i>>=d,r>a&&(r-=f,i+=pe);const s=t,h=t+Math.abs(r)-1,p=e%2!=0,y=r<0;0===r?l=l.add(n(p,o[s])):c=c.add(n(y,o[h]))}return{p:c,f:l}},wNAFCached(e,t,n,r){const o=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,o),1!==o&&t.set(e,r(i))),this.wNAF(o,i,n)}}}(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}({...t,toBytes(e,t,r){const o=t.toAffine(),i=n.toBytes(o.x),s=V;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,n.toBytes(o.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==o||2!==r&&3!==r){if(t===i&&4===r)return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}{const e=D(s);if(!(we<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=u(e);let o=n.sqrt(t);return 1==(1&r)!=((o&ve)===ve)&&(o=n.neg(o)),{x:e,y:o}}var a}}),d=e=>j(q(e,t.nByteLength));function h(e){return e>r>>ve}const p=(e,t,n)=>D(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=z("compactSignature",e,2*n),new y(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=me.toSig(z("DER",e));return new y(t,n)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r,s:o,recovery:i}=this,l=w(z("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const u=2===i||3===i?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=0==(1&i)?"02":"03",h=c.fromHex(f+d(u)),p=a(u),y=s(-l*p),g=s(o*p),b=c.BASE.multiplyAndAddUnsafe(h,y,g);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return P(this.toDERHex())}toDERHex(){return me.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return P(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=function(e,t,n=!1){const r=(e=z("privateHash",e)).length,o=de(t).nByteLength+8;if(o<24||r<o||r>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${r}`);return se(n?F(e):D(e),t-ee)+ee}(t.randomBytes(n.BYTES+8),r);return q(e,t.nByteLength)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function b(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===o||r===i:n?r===2*o||r===2*i:e instanceof c}const m=t.bits2int||function(e){const n=D(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return s(m(e))},v=M(t.nBitLength);function E(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(we<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return q(e,t.nByteLength)}const x={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,r,o=x){const{seed:i,k2sig:u}=function(e,r,o=x){if(["recovered","canonical"].some((e=>e in o)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:u}=t;let{lowS:d,prehash:p,extraEntropy:g}=o;null==d&&(d=!0),e=z("msgHash",e),p&&(e=z("prehashed msgHash",i(e)));const b=w(e),v=l(r),k=[E(v),E(b)];if(null!=g){const e=!0===g?u(n.BYTES):g;k.push(z("extraEntropy",e,n.BYTES))}const A=V(...k),B=b;return{seed:A,k2sig:function(e){const t=m(e);if(!f(t))return;const n=a(t),r=c.BASE.multiply(t).toAffine(),o=s(r.x);if(o===we)return;const i=s(n*s(B+o*v));if(i===we)return;let l=(r.x===o?0:2)|Number(r.y&ve),u=i;return d&&h(i)&&(u=function(e){return h(e)?s(-e):e}(i),l^=1),new y(o,u,l)}}}(e,r,o);return Y(t.hash.outputLen,t.nByteLength,t.hmac)(i,u)},verify:function(e,n,r,o=k){const i=e;if(n=z("msgHash",n),r=z("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:u}=o;let f,d;try{if("string"==typeof i||i instanceof Uint8Array)try{f=y.fromDER(i)}catch(e){if(!(e instanceof me.Err))throw e;f=y.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:e,s:t}=i;f=new y(e,t)}}d=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&f.hasHighS())return!1;u&&(n=t.hash(n));const{r:h,s:p}=f,g=w(n),b=a(p),m=s(g*b),v=s(h*b),E=c.BASE.multiplyAndAddUnsafe(d,m,v)?.toAffine();return!!E&&s(E.x)===h},ProjectivePoint:c,Signature:y,utils:g}}const Be=D;function Re(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function _e(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Se(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function Oe(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function Ie(e,t,n){Q(n,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:o,m:i,hash:s,expand:a,DST:c}=n;Se(e),Oe(t);const l=function(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return G(e);throw new Error("DST must be Uint8Array or string")}(c),u=r.toString(2).length,f=Math.ceil((u+o)/8),d=t*i*f;let h;if("xmd"===a)h=function(e,t,n,r){Se(e),Se(t),Oe(n),t.length>255&&(t=r(V(G("H2C-OVERSIZE-DST-"),t)));const{outputLen:o,blockLen:i}=r,s=Math.ceil(n/o);if(s>255)throw new Error("Invalid xmd length");const a=V(t,Re(t.length,1)),c=Re(0,i),l=Re(n,2),u=new Array(s),f=r(V(c,e,l,Re(0,1),a));u[0]=r(V(f,Re(1,1),a));for(let e=1;e<=s;e++){const t=[_e(f,u[e-1]),Re(e+1,1),a];u[e]=r(V(...t))}return V(...u).slice(0,n)}(e,l,d,s);else if("xof"===a)h=function(e,t,n,r,o){if(Se(e),Se(t),Oe(n),t.length>255){const e=Math.ceil(2*r/8);t=o.create({dkLen:e}).update(G("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:n}).update(e).update(Re(n,2)).update(t).update(Re(t.length,1)).digest()}(e,l,d,o,s);else{if("_internal_pass"!==a)throw new Error('expand must be "xmd" or "xof"');h=e}const p=new Array(t);for(let e=0;e<t;e++){const t=new Array(i);for(let n=0;n<i;n++){const o=f*(n+e*i),s=h.subarray(o,o+f);t[n]=se(Be(s),r)}p[e]=t}return p}class Le extends x{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,d.hash(e);const n=v(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return d.exists(this),this.iHash.update(e),this}digestInto(e){d.exists(this),d.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Te=(e,t,n)=>new Le(e,t).update(n).digest();function Ue(e){return{hash:e,hmac:(t,...n)=>Te(e,t,E(...n)),randomBytes:A}}Te.create=(e,t)=>new Le(e,t);const He=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ne=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ce=BigInt(1),je=BigInt(2),$e=(e,t)=>(e+t/je)/t;function Pe(e){const t=He,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=ce(u,n,t)*u%t,d=ce(f,n,t)*u%t,h=ce(d,je,t)*l%t,p=ce(h,o,t)*h%t,y=ce(p,i,t)*p%t,g=ce(y,a,t)*y%t,b=ce(g,c,t)*g%t,m=ce(b,a,t)*y%t,w=ce(m,n,t)*u%t,v=ce(w,s,t)*p%t,E=ce(v,r,t)*l%t,x=ce(E,je,t);if(!De.eql(De.sqr(x),e))throw new Error("Cannot find square root");return x}const De=function(e,t,n=!1,r={}){if(e<=X)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=de(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function(e){if(e%re===ne){const t=(e+ee)/re;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%ie===oe){const t=(e-oe)/ie;return function(e,n){const r=e.mul(n,te),o=e.pow(r,t),i=e.mul(n,o),s=e.mul(e.mul(i,te),o),a=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-ee)/te;let n,r,o;for(n=e-ee,r=0;n%te===X;n/=te,r++);for(o=te;o<e&&ae(o,t,e)!==e-ee;o++);if(1===r){const t=(e+ee)/re;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const i=(n+ee)/te;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,o),n),l=e.pow(s,i),u=e.pow(s,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,ee<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:M(o),ZERO:X,ONE:ee,create:t=>se(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return X<=t&&t<e},is0:e=>e===X,isOdd:e=>(e&ee)===ee,neg:t=>se(-t,e),eql:(e,t)=>e===t,sqr:t=>se(t*t,e),add:(t,n)=>se(t+n,e),sub:(t,n)=>se(t-n,e),mul:(t,n)=>se(t*n,e),pow:(e,t)=>function(e,t,n){if(n<X)throw new Error("Expected power > 0");if(n===X)return e.ONE;if(n===ee)return t;let r=e.ONE,o=t;for(;n>X;)n&ee&&(r=e.mul(r,o)),o=e.sqr(o),n>>=ee;return r}(a,e,t),div:(t,n)=>se(t*le(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>le(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,o)=>e.is0(r)?t:(n[o]=t,e.mul(t,r))),e.ONE),o=e.inv(r);return t.reduceRight(((t,r,o)=>e.is0(r)?t:(n[o]=e.mul(t,n[o]),e.mul(t,r))),o),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?K(e,i):q(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return n?F(e):D(e)}});return Object.freeze(a)}(He,void 0,void 0,{sqrt:Pe}),Fe=function(e,t){const n=t=>Ae({...e,...Ue(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:De,n:Ne,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ne,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ce*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),a=$e(i*e,t),c=$e(-r*e,t);let l=se(e-a*n-c*o,t),u=se(-a*r-c*i,t);const f=l>s,d=u>s;if(f&&(l=t-l),d&&(u=t-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},T),qe=BigInt(0),Ke=e=>"bigint"==typeof e&&qe<e&&e<He,ze={};function Ve(e,...t){let n=ze[e];if(void 0===n){const t=T(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=V(t,t),ze[e]=n}return T(V(n,...t))}const Ge=e=>e.toRawBytes(!0).slice(1),Me=e=>q(e,32),We=e=>se(e,He),Ze=e=>se(e,Ne),Ye=Fe.ProjectivePoint;function Je(e){let t=Fe.utils.normPrivateKeyToScalar(e),n=Ye.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Ze(-t),bytes:Ge(n)}}function Qe(e){if(!Ke(e))throw new Error("bad x: need 0 < x < p");const t=We(e*e);let n=Pe(We(t*e+BigInt(7)));n%je!==qe&&(n=We(-n));const r=new Ye(e,n,Ce);return r.assertValidity(),r}function Xe(...e){return Ze(D(Ve("BIP0340/challenge",...e)))}function et(e,t,n){const r=z("signature",e,64),o=z("message",t),i=z("publicKey",n,32);try{const e=Qe(D(i)),t=D(r.subarray(0,32));if(!Ke(t))return!1;const n=D(r.subarray(32,64));if(!("bigint"==typeof(l=n)&&qe<l&&l<Ne))return!1;const u=Xe(Me(t),Ge(e),o),f=(s=e,a=n,c=Ze(-u),Ye.BASE.multiplyAndAddUnsafe(s,a,c));return!(!f||!f.hasEvenY()||f.toAffine().x!==t)}catch(e){return!1}var s,a,c,l}const tt={getPublicKey:function(e){return Je(e).bytes},sign:function(e,t,n=A(32)){const r=z("message",e),{bytes:o,scalar:i}=Je(t),s=z("auxRand",n,32),a=Me(i^D(Ve("BIP0340/aux",s))),c=Ve("BIP0340/nonce",a,o,r),l=Ze(D(c));if(l===qe)throw new Error("sign failed: k is zero");const{bytes:u,scalar:f}=Je(l),d=Xe(u,o,r),h=new Uint8Array(64);if(h.set(u,0),h.set(Me(Ze(f+d*i)),32),!et(h,r,o))throw new Error("sign: Invalid signature produced");return h},verify:et,utils:{randomPrivateKey:Fe.utils.randomPrivateKey,lift_x:Qe,pointToBytes:Ge,numberToBytesBE:q,bytesToNumberBE:D,taggedHash:Ve,mod:se}},nt=function(e,t){const n=t.map((e=>Array.from(e).reverse()));return(t,r)=>{const[o,i,s,a]=n.map((n=>n.reduce(((n,r)=>e.add(e.mul(n,t),r)))));return t=e.div(o,i),r=e.mul(r,e.div(s,a)),{x:t,y:r}}}(De,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))),rt=function(e,t){if(fe(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=function(e,t){const n=e.ORDER;let r=we;for(let e=n-ve;e%Ee===we;e/=Ee)r+=ve;const o=r,i=(n-ve)/Ee**o,s=(i-ve)/Ee,a=Ee**o-ve,c=Ee**(o-ve),l=e.pow(t,i),u=e.pow(t,(i+ve)/Ee);let f=(t,n)=>{let r=l,i=e.pow(n,a),f=e.sqr(i);f=e.mul(f,n);let d=e.mul(t,f);d=e.pow(d,s),d=e.mul(d,i),i=e.mul(d,n),f=e.mul(d,t);let h=e.mul(f,i);d=e.pow(h,c);let p=e.eql(d,e.ONE);i=e.mul(f,u),d=e.mul(h,r),f=e.cmov(i,f,p),h=e.cmov(d,h,p);for(let t=o;t>ve;t--){let n=Ee**(t-Ee),o=e.pow(h,n);const s=e.eql(o,e.ONE);i=e.mul(f,r),r=e.mul(r,r),o=e.mul(h,r),f=e.cmov(i,f,s),h=e.cmov(o,h,s)}return{isValid:p,value:f}};if(e.ORDER%ke===xe){const n=(e.ORDER-xe)/ke,r=e.sqrt(e.neg(t));f=(t,o)=>{let i=e.sqr(o);const s=e.mul(t,o);i=e.mul(i,s);let a=e.pow(i,n);a=e.mul(a,s);const c=e.mul(a,r),l=e.mul(e.sqr(a),o),u=e.eql(l,t);return{isValid:u,value:e.cmov(c,a,u)}}}return f}(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let o,i,s,a,c,l,u,f;o=e.sqr(r),o=e.mul(o,t.Z),i=e.sqr(o),i=e.add(i,o),s=e.add(i,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(i),!e.eql(i,e.ZERO)),a=e.mul(a,t.A),i=e.sqr(s),l=e.sqr(a),c=e.mul(l,t.A),i=e.add(i,c),i=e.mul(i,s),l=e.mul(l,a),c=e.mul(l,t.B),i=e.add(i,c),u=e.mul(o,s);const{isValid:d,value:h}=n(i,l);f=e.mul(o,r),f=e.mul(f,h),u=e.cmov(u,s,d),f=e.cmov(f,h,d);const p=e.isOdd(r)===e.isOdd(f);return f=e.cmov(e.neg(f),f,p),u=e.div(u,a),{x:u,y:f}}}(De,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:De.create(BigInt("-11"))}),{hashToCurve:ot,encodeToCurve:it}=function(e,t,n){return{hashToCurve(r,o){const i=Ie(r,2,{...n,DST:n.DST,...o}),s=e.fromAffine(t(i[0])),a=e.fromAffine(t(i[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,o){const i=Ie(r,1,{...n,DST:n.encodeDST,...o}),s=e.fromAffine(t(i[0])).clearCofactor();return s.assertValidity(),s}}}(Fe.ProjectivePoint,(e=>{const{x:t,y:n}=rt(De.create(e[0]));return nt(t,n)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:De.ORDER,m:1,k:128,expand:"xmd",hash:T});function st(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function at(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function ct(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(st(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function lt(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function ut(e,t="="){if(st(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function ft(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function dt(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(st(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let o=r;o<i.length;o++){const a=i[o],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");if(e=c%n,i[o]=Math.floor(c/n),!Number.isSafeInteger(i[o])||i[o]*n+e!==c)throw new Error("convertRadix: carry overflow");s&&(i[o]?s=!1:r=o)}if(o.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}const ht=(e,t)=>t?ht(t,e%t):e,pt=(e,t)=>e+(t-ht(e,t));function yt(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(pt(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${pt(t,n)}`);let o=0,i=0;const s=2**n-1,a=[];for(const r of e){if(st(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)a.push((o>>i-n&s)>>>0);o&=2**i-1}if(o=o<<n-i&s,!r&&i>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&a.push(o>>>0),a}function gt(e,t=!1){if(st(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(pt(8,e)>32||pt(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return yt(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(yt(n,e,8,t))}}}function bt(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}at(gt(4),ct("0123456789ABCDEF"),lt("")),at(gt(5),ct("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ut(5),lt(""));const mt=(at(gt(5),ct("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ut(5),lt("")),at(gt(5),ct("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),lt(""),ft((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),at(gt(6),ct("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ut(6),lt(""))),wt=(at(gt(6),ct("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ut(6),lt("")),e=>{return at((st(t=58),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return dt(Array.from(e),256,t)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(dt(e,t,256))}}),ct(e),lt(""));var t}),vt=wt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Et=(wt("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),wt("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),at(ct("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),lt(""))),xt=[996825010,642813549,513874426,1027748829,705979059];function kt(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<xt.length;e++)1==(t>>e&1)&&(n^=xt[e]);return n}function At(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=kt(o)^n>>5}o=kt(o);for(let t=0;t<r;t++)o=kt(o)^31&e.charCodeAt(t);for(let e of t)o=kt(o)^e;for(let e=0;e<6;e++)o=kt(o);return o^=n,Et.encode(yt([o%2**30],30,5,!1))}function Bt(e){const t="bech32"===e?1:734539939,n=gt(5),r=n.decode,o=n.encode,i=bt(r);function s(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(e=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,o),s=e.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=Et.decode(s).slice(0,-6),c=At(i,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const o=e.length+7+n.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${Et.encode(n)}${At(e,n,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:bt(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}const Rt=Bt("bech32");Bt("bech32m");at(gt(4),ct("0123456789abcdef"),lt(""),ft((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));var _t=n(83),St=n(286);const Ot=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),It=Uint8Array.from({length:16},((e,t)=>t)),Lt=It.map((e=>(9*e+5)%16));let Tt=[It],Ut=[Lt];for(let e=0;e<4;e++)for(let t of[Tt,Ut])t.push(t[e].map((e=>Ot[e])));const Ht=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Nt=Tt.map(((e,t)=>e.map((e=>Ht[t][e])))),Ct=Ut.map(((e,t)=>e.map((e=>Ht[t][e])))),jt=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),$t=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Pt=(e,t)=>e<<t|e>>>32-t;function Dt(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const Ft=new Uint32Array(16);class qt extends B{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:o}=this;return[e,t,n,r,o]}set(e,t,n,r,o){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)Ft[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,o=0|this.h1,i=o,s=0|this.h2,a=s,c=0|this.h3,l=c,u=0|this.h4,f=u;for(let e=0;e<5;e++){const t=4-e,d=jt[e],h=$t[e],p=Tt[e],y=Ut[e],g=Nt[e],b=Ct[e];for(let t=0;t<16;t++){const r=Pt(n+Dt(e,o,s,c)+Ft[p[t]]+d,g[t])+u|0;n=u,u=c,c=0|Pt(s,10),s=o,o=r}for(let e=0;e<16;e++){const n=Pt(r+Dt(t,i,a,l)+Ft[y[e]]+h,b[e])+f|0;r=f,f=l,l=0|Pt(a,10),a=i,i=n}}this.set(this.h1+s+l|0,this.h2+c+f|0,this.h3+u+r|0,this.h4+n+i|0,this.h0+o+a|0)}roundClean(){Ft.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Kt=k((()=>new qt)),zt=BigInt(2**32-1),Vt=BigInt(32);function Gt(e,t=!1){return t?{h:Number(e&zt),l:Number(e>>Vt&zt)}:{h:0|Number(e>>Vt&zt),l:0|Number(e&zt)}}const Mt=function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=Gt(e[o],t);[n[o],r[o]]=[i,s]}return[n,r]},Wt=(e,t,n)=>e>>>n,Zt=(e,t,n)=>e<<32-n|t>>>n,Yt=(e,t,n)=>e>>>n|t<<32-n,Jt=(e,t,n)=>e<<32-n|t>>>n,Qt=(e,t,n)=>e<<64-n|t>>>n-32,Xt=(e,t,n)=>e>>>n-32|t<<64-n,en=function(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}},tn=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),nn=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,rn=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),on=(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,sn=(e,t,n,r,o,i)=>t+n+r+o+i+(e/2**32|0)|0,an=(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0),[cn,ln]=Mt(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),un=new Uint32Array(80),fn=new Uint32Array(80);class dn extends B{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:f,Gh:d,Gl:h,Hh:p,Hl:y}=this;return[e,t,n,r,o,i,s,a,c,l,u,f,d,h,p,y]}set(e,t,n,r,o,i,s,a,c,l,u,f,d,h,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|f,this.Gh=0|d,this.Gl=0|h,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let n=0;n<16;n++,t+=4)un[n]=e.getUint32(t),fn[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|un[e-15],n=0|fn[e-15],r=Yt(t,n,1)^Yt(t,n,8)^Wt(t,n,7),o=Jt(t,n,1)^Jt(t,n,8)^Zt(t,n,7),i=0|un[e-2],s=0|fn[e-2],a=Yt(i,s,19)^Qt(i,s,61)^Wt(i,s,6),c=Jt(i,s,19)^Xt(i,s,61)^Zt(i,s,6),l=rn(o,c,fn[e-7],fn[e-16]),u=on(l,r,a,un[e-7],un[e-16]);un[e]=0|u,fn[e]=0|l}let{Ah:n,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:f,Fh:d,Fl:h,Gh:p,Gl:y,Hh:g,Hl:b}=this;for(let e=0;e<80;e++){const t=Yt(u,f,14)^Yt(u,f,18)^Qt(u,f,41),m=Jt(u,f,14)^Jt(u,f,18)^Xt(u,f,41),w=u&d^~u&p,v=an(b,m,f&h^~f&y,ln[e],fn[e]),E=sn(v,g,t,w,cn[e],un[e]),x=0|v,k=Yt(n,r,28)^Qt(n,r,34)^Qt(n,r,39),A=Jt(n,r,28)^Xt(n,r,34)^Xt(n,r,39),B=n&o^n&s^o&s,R=r&i^r&a^i&a;g=0|p,b=0|y,p=0|d,y=0|h,d=0|u,h=0|f,({h:u,l:f}=en(0|c,0|l,0|E,0|x)),c=0|s,l=0|a,s=0|o,a=0|i,o=0|n,i=0|r;const _=tn(x,A,R);n=nn(_,E,k,B),r=0|_}({h:n,l:r}=en(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:i}=en(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=en(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l}=en(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:f}=en(0|this.Eh,0|this.El,0|u,0|f)),({h:d,l:h}=en(0|this.Fh,0|this.Fl,0|d,0|h)),({h:p,l:y}=en(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:b}=en(0|this.Hh,0|this.Hl,0|g,0|b)),this.set(n,r,o,i,s,a,c,l,u,f,d,h,p,y,g,b)}roundClean(){un.fill(0),fn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class hn extends dn{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class pn extends dn{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class yn extends dn{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const gn=k((()=>new dn)),bn=(k((()=>new hn)),k((()=>new pn)),k((()=>new yn)),Fe.ProjectivePoint),mn=(e=>at(function(e,t){if(st(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),o=new Uint8Array(n.length+e);return o.set(n),o.set(r,n.length),o},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),o=t(r).slice(0,e),i=n.slice(-e);for(let t=0;t<e;t++)if(o[t]!==i[t])throw new Error("Invalid checksum");return r}}}(4,(t=>e(e(t)))),vt))(T);function wn(e){return BigInt(`0x${b(e)}`)}const vn=w("Bitcoin seed"),En={private:76066276,public:76067358},xn=2147483648,kn=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return p(t).setUint32(0,e,!1),t};class An{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,p(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return mn.encode(this.serialize(this.versions.private,E(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return mn.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=En){if(f(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=Te(gn,vn,e);return new An({versions:t,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e,t=En){const n=mn.decode(e),r=p(n),o=r.getUint32(0,!1),i={versions:t,depth:n[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:n.slice(13,45)},s=n.slice(45),a=0===s[0];if(o!==t[a?"private":"public"])throw new Error("Version mismatch");return new An(a?{...i,privateKey:s.slice(1)}:{...i,publicKey:s})}static fromJSON(e){return An.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||En,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!Fe.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:wn(e.privateKey),this.privKeyBytes=m(this.privKey.toString(16).padStart(64,"0")),this.pubKey=Fe.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=bn.fromHex(e.publicKey).toRawBytes(!0)}var t;this.pubHash=(t=this.pubKey,Kt(T(t)))}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const e of t){const t=/^(\d+)('?)$/.exec(e);if(!t||3!==t.length)throw new Error(`Invalid child index: ${e}`);let r=+t[1];if(!Number.isSafeInteger(r)||r>=xn)throw new Error("Invalid index");"'"===t[2]&&(r+=xn),n=n.deriveChild(r)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=kn(e);if(e>=xn){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=E(new Uint8Array([0]),e,t)}else t=E(this.pubKey,t);const n=Te(gn,this.chainCode,t),r=wn(n.slice(0,32)),o=n.slice(32);if(!Fe.utils.isValidPrivateKey(r))throw new Error("Tweak bigger than curve order");const i={versions:this.versions,chainCode:o,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=se(this.privKey+r,Fe.CURVE.n);if(!Fe.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");i.privateKey=e}else{const e=bn.fromHex(this.pubKey).add(bn.fromPrivateKey(r));if(e.equals(bn.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");i.publicKey=e.toRawBytes(!0)}return new An(i)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return f(e,32),Fe.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if(f(e,32),f(t,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=Fe.Signature.fromCompact(t)}catch(e){return!1}return Fe.verify(n,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return f(t,33),E(kn(e),new Uint8Array([this.depth]),kn(this.parentFingerprint),kn(this.index),this.chainCode,t)}}var Bn=Object.defineProperty,Rn=(e,t)=>{for(var n in t)Bn(e,n,{get:t[n],enumerable:!0})};function _n(e){return b(tt.getPublicKey(e))}Rn({},{MessageNode:()=>Un,MessageQueue:()=>Hn,insertEventIntoAscendingList:()=>Tn,insertEventIntoDescendingList:()=>Ln,normalizeURL:()=>In,utf8Decoder:()=>Sn,utf8Encoder:()=>On});var Sn=new TextDecoder("utf-8"),On=new TextEncoder;function In(e){let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Ln(e,t){let n,r=0,o=e.length-1,i=r;if(o<0)i=0;else if(t.created_at<e[o].created_at)i=o+1;else if(t.created_at>=e[r].created_at)i=r;else for(;;){if(o<=r+1){i=o;break}if(n=Math.floor(r+(o-r)/2),e[n].created_at>t.created_at)r=n;else{if(!(e[n].created_at<t.created_at)){i=n;break}o=n}}return e[i]?.id!==t.id?[...e.slice(0,i),t,...e.slice(i)]:e}function Tn(e,t){let n,r=0,o=e.length-1,i=r;if(o<0)i=0;else if(t.created_at>e[o].created_at)i=o+1;else if(t.created_at<=e[r].created_at)i=r;else for(;;){if(o<=r+1){i=o;break}if(n=Math.floor(r+(o-r)/2),e[n].created_at<t.created_at)r=n;else{if(!(e[n].created_at>t.created_at)){i=n;break}o=n}}return e[i]?.id!==t.id?[...e.slice(0,i),t,...e.slice(i)]:e}var Un=class{_value;_next;get value(){return this._value}set value(e){this._value=e}get next(){return this._next}set next(e){this._next=e}constructor(e){this._value=e,this._next=null}},Hn=class{_first;_last;get first(){return this._first}set first(e){this._first=e}get last(){return this._last}set last(e){this._last=e}_size;get size(){return this._size}set size(e){this._size=e}constructor(){this._first=null,this._last=null,this._size=0}enqueue(e){const t=new Un(e);return 0!==this._size&&this._last?(this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,!0}dequeue(){if(0===this._size||!this._first)return null;let e=this._first;return this._first=e.next,e.next=null,this._size--,e.value}};function Nn(e,t){let n=e;return n.pubkey=_n(t),n.id=Cn(n),n.sig=function(e,t){return b(tt.sign(Cn(e),t))}(n,t),n}function Cn(e){return b(T(On.encode(function(e){if(!$n(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e))))}var jn=e=>e instanceof Object;function $n(e){if(!jn(e))return!1;if("number"!=typeof e.kind)return!1;if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if("string"!=typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if("object"==typeof n[e])return!1}return!0}function Pn(e){try{return tt.verify(e.sig,Cn(e),e.pubkey)}catch(e){return!1}}function Dn(e,t){if(e.ids&&-1===e.ids.indexOf(t.id)&&!e.ids.some((e=>t.id.startsWith(e))))return!1;if(e.kinds&&-1===e.kinds.indexOf(t.kind))return!1;if(e.authors&&-1===e.authors.indexOf(t.pubkey)&&!e.authors.some((e=>t.pubkey.startsWith(e))))return!1;for(let n in e)if("#"===n[0]){let r=e[`#${n.slice(1)}`];if(r&&!t.tags.find((([e,t])=>e===n.slice(1)&&-1!==r.indexOf(t))))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>=e.until)}function Fn(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function qn(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,o=e.slice(r),i=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,i),10)}function Kn(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let n=e.slice(t+7+1).indexOf('"');if(-1===n)return null;let r=t+7+1+n,o=e.slice(r+1,80).indexOf('"');if(-1===o)return null;let i=r+1+o;return e.slice(r+1,i)}function zn(e,t){return t===Fn(e,"id")}function Vn(e,t){return t===Fn(e,"pubkey")}function Gn(e,t){return t===qn(e,"kind")}function Mn(e,t={}){let{listTimeout:n=3e3,getTimeout:r=3e3,countTimeout:o=3e3}=t;var i,s,a={},c={connect:[],disconnect:[],error:[],notice:[],auth:[]},l={},u={};function f(){return 1===i?.readyState}async function d(e){let t=JSON.stringify(e);if(f()||(await new Promise((e=>setTimeout(e,1e3))),f()))try{i.send(t)}catch(e){console.log(e)}}const h=(e,{verb:t="REQ",skipVerification:n=!1,alreadyHaveEvent:r=null,id:o=Math.random().toString().slice(2)}={})=>{let i=o;return a[i]={id:i,filters:e,skipVerification:n,alreadyHaveEvent:r},d([t,i,...e]),{sub:(t,o={})=>h(t||e,{skipVerification:o.skipVerification||n,alreadyHaveEvent:o.alreadyHaveEvent||r,id:i}),unsub:()=>{delete a[i],delete l[i],d(["CLOSE",i])},on:(e,t)=>{l[i]=l[i]||{event:[],count:[],eose:[]},l[i][e].push(t)},off:(e,t)=>{let n=l[i],r=n[e].indexOf(t);r>=0&&n[e].splice(r,1)}}};function p(e,t){if(!e.id)throw new Error(`event ${e} has no id`);let n=e.id;return d([t,e]),{on:(e,t)=>{u[n]=u[n]||{ok:[],failed:[]},u[n][e].push(t)},off:(e,t)=>{let r=u[n];if(!r)return;let o=r[e].indexOf(t);o>=0&&r[e].splice(o,1)}}}return{url:e,sub:h,on:(e,t)=>{c[e].push(t),"connect"===e&&1===i?.readyState&&t()},off:(e,t)=>{let n=c[e].indexOf(t);-1!==n&&c[e].splice(n,1)},list:(e,t)=>new Promise((r=>{let o=h(e,t),i=[],s=setTimeout((()=>{o.unsub(),r(i)}),n);o.on("eose",(()=>{o.unsub(),clearTimeout(s),r(i)})),o.on("event",(e=>{i.push(e)}))})),get:(e,t)=>new Promise((n=>{let o=h([e],t),i=setTimeout((()=>{o.unsub(),n(null)}),r);o.on("event",(e=>{o.unsub(),clearTimeout(i),n(e)}))})),count:e=>new Promise((t=>{let n=h(e,{...h,verb:"COUNT"}),r=setTimeout((()=>{n.unsub(),t(null)}),o);n.on("count",(e=>{n.unsub(),clearTimeout(r),t(e)}))})),publish:e=>p(e,"EVENT"),auth:e=>p(e,"AUTH"),connect:async function(){f()||await async function(){return s||(s=new Promise(((t,n)=>{try{i=new WebSocket(e)}catch(e){n(e)}i.onopen=()=>{c.connect.forEach((e=>e())),t()},i.onerror=()=>{s=void 0,c.error.forEach((e=>e())),n()},i.onclose=async()=>{s=void 0,c.disconnect.forEach((e=>e()))};let r,o=new Hn;function f(){if(0===o.size)return clearInterval(r),void(r=null);var t=o.dequeue();if(!t)return;let n=Kn(t);if(n){let r=a[n];if(r&&r.alreadyHaveEvent&&r.alreadyHaveEvent(Fn(t,"id"),e))return}try{let e=JSON.parse(t);switch(e[0]){case"EVENT":{let t=e[1],n=e[2];return void($n(n)&&a[t]&&(a[t].skipVerification||Pn(n))&&function(e,t){for(let n=0;n<e.length;n++)if(Dn(e[n],t))return!0;return!1}(a[t].filters,n)&&(a[t],(l[t]?.event||[]).forEach((e=>e(n)))))}case"COUNT":let t=e[1],n=e[2];return void(a[t]&&(l[t]?.count||[]).forEach((e=>e(n))));case"EOSE":{let t=e[1];return void(t in l&&(l[t].eose.forEach((e=>e())),l[t].eose=[]))}case"OK":{let t=e[1],n=e[2],r=e[3]||"";return void(t in u&&(n?u[t].ok.forEach((e=>e())):u[t].failed.forEach((e=>e(r))),u[t].ok=[],u[t].failed=[]))}case"NOTICE":let r=e[1];return void c.notice.forEach((e=>e(r)));case"AUTH":{let t=e[1];return void c.auth?.forEach((e=>e(t)))}}}catch(e){return}}i.onmessage=e=>{o.enqueue(e.data),r||(r=setInterval(f,0))}})),s)}()},close(){c={connect:[],disconnect:[],error:[],notice:[],auth:[]},l={},u={},i.readyState===WebSocket.OPEN&&i?.close()},get status(){return i?.readyState??3}}}Rn({},{getHex64:()=>Fn,getInt:()=>qn,getSubscriptionId:()=>Kn,matchEventId:()=>zn,matchEventKind:()=>Gn,matchEventPubkey:()=>Vn});var Wn={};Rn(Wn,{BECH32_REGEX:()=>Yn,decode:()=>Jn,naddrEncode:()=>ir,neventEncode:()=>or,noteEncode:()=>tr,nprofileEncode:()=>rr,npubEncode:()=>er,nrelayEncode:()=>sr,nsecEncode:()=>Xn});var Zn=5e3,Yn=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Jn(e){let{prefix:t,words:n}=Rt.decode(e,Zn),r=new Uint8Array(Rt.fromWords(n));switch(t){case"nprofile":{let e=Qn(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:b(e[0][0]),relays:e[1]?e[1].map((e=>Sn.decode(e))):[]}}}case"nevent":{let e=Qn(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");return{type:"nevent",data:{id:b(e[0][0]),relays:e[1]?e[1].map((e=>Sn.decode(e))):[],author:e[2]?.[0]?b(e[2][0]):void 0}}}case"naddr":{let e=Qn(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!e[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!e[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Sn.decode(e[0][0]),pubkey:b(e[2][0]),kind:parseInt(b(e[3][0]),16),relays:e[1]?e[1].map((e=>Sn.decode(e))):[]}}}case"nrelay":{let e=Qn(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Sn.decode(e[0][0])}}case"nsec":case"npub":case"note":return{type:t,data:b(r)};default:throw new Error(`unknown prefix ${t}`)}}function Qn(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1];if(!r)throw new Error(`malformed TLV ${e}`);let o=n.slice(2,2+r);if(n=n.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${e}`);t[e]=t[e]||[],t[e].push(o)}return t}function Xn(e){return nr("nsec",e)}function er(e){return nr("npub",e)}function tr(e){return nr("note",e)}function nr(e,t){let n=m(t),r=Rt.toWords(n);return Rt.encode(e,r,Zn)}function rr(e){let t=ar({0:[m(e.pubkey)],1:(e.relays||[]).map((e=>On.encode(e)))}),n=Rt.toWords(t);return Rt.encode("nprofile",n,Zn)}function or(e){let t=ar({0:[m(e.id)],1:(e.relays||[]).map((e=>On.encode(e))),2:e.author?[m(e.author)]:[]}),n=Rt.toWords(t);return Rt.encode("nevent",n,Zn)}function ir(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=ar({0:[On.encode(e.identifier)],1:(e.relays||[]).map((e=>On.encode(e))),2:[m(e.pubkey)],3:[new Uint8Array(t)]}),r=Rt.toWords(n);return Rt.encode("naddr",r,Zn)}function sr(e){let t=ar({0:[On.encode(e)]}),n=Rt.toWords(t);return Rt.encode("nrelay",n,Zn)}function ar(e){let t=[];return Object.entries(e).forEach((([e,n])=>{n.forEach((n=>{let r=new Uint8Array(n.length+2);r.set([parseInt(e)],0),r.set([n.length],1),r.set(n,2),t.push(r)}))})),E(...t)}async function cr(e,t,n){const r=ur(Fe.getSharedSecret(e,"02"+t));let o=Uint8Array.from(A(16)),i=On.encode(n),s=await crypto.subtle.importKey("raw",r,{name:"AES-CBC"},!1,["encrypt"]),a=await crypto.subtle.encrypt({name:"AES-CBC",iv:o},s,i);return`${mt.encode(new Uint8Array(a))}?iv=${mt.encode(new Uint8Array(o.buffer))}`}async function lr(e,t,n){let[r,o]=n.split("?iv="),i=ur(Fe.getSharedSecret(e,"02"+t)),s=await crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]),a=mt.decode(r),c=mt.decode(o),l=await crypto.subtle.decrypt({name:"AES-CBC",iv:c},s,a);return Sn.decode(l)}function ur(e){return e.slice(1,33)}Rn({},{decrypt:()=>lr,encrypt:()=>cr}),"undefined"!=typeof crypto&&!crypto.subtle&&crypto.webcrypto&&(crypto.subtle=crypto.webcrypto.subtle),Rn({},{NIP05_REGEX:()=>fr,queryProfile:()=>pr,searchDomain:()=>hr,useFetchImplementation:()=>dr});var fr=/^(?:([\w.+-]+)@)?([\w.-]+)$/;try{fetch}catch{}function dr(e){}async function hr(e,t=""){try{return{}}catch(e){return{}}}async function pr(e){const t=e.match(fr);if(!t)return null;const[n,r="_",o]=t;try{return null}catch(e){return null}}function yr(e,t){let n=An.fromMasterSeed((0,St.Z1)(e,t)).derive("m/44'/1237'/0'/0/0").privateKey;if(!n)throw new Error("could not derive private key");return b(n)}function gr(){return(0,St.OF)(_t.U)}function br(e){return(0,St._I)(e,_t.U)}function mr(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const r of e.tags)"e"===r[0]&&r[1]&&n.push(r),"p"===r[0]&&r[1]&&t.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let e=0;e<n.length;e++){const r=n[e],[o,i,s,a]=r,c={id:i,relays:s?[s]:[]},l=0===e,u=e===n.length-1;"root"!==a?"reply"!==a?"mention"!==a?l?t.root=c:u?t.reply=c:t.mentions.push(c):t.mentions.push(c):t.reply=c:t.root=c}return t}function wr(e){return function(e){let t,n,r;for(n=0,t=0;n<e.length&&(r=vr(e[n]),t+=r,8===r);n++);return t}(m(e))}function vr(e){let t=0;if(0===e)return 8;for(;e>>=1;)t++;return 7-t}function Er(e,t,n,r){return Nn({kind:6,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},r)}function xr(e){if(6!==e.kind)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const o=e.tags[r];o.length>=2&&("e"===o[0]&&void 0===t?t=o:"p"===o[0]&&void 0===n&&(n=o))}return void 0!==t?{id:t[1],relays:[t[2],n?.[2]].filter((e=>"string"==typeof e)),author:n?.[1]}:void 0}function kr(e,{skipVerification:t}={}){const n=xr(e);if(void 0===n||""===e.content)return;let r;try{r=JSON.parse(e.content)}catch(e){return}return r.id===n.id&&(t||Pn(r))?r:void 0}Rn({},{generateSeedWords:()=>gr,privateKeyFromSeedWords:()=>yr,validateWords:()=>br}),Rn({},{parse:()=>mr}),Rn({},{getPow:()=>wr}),Rn({},{finishRepostEvent:()=>Er,getRepostedEvent:()=>kr,getRepostedEventPointer:()=>xr}),Rn({},{NOSTR_URI_REGEX:()=>Ar,parse:()=>Rr,test:()=>Br});var Ar=new RegExp(`nostr:(${Yn.source})`);function Br(e){return"string"==typeof e&&new RegExp(`^${Ar.source}$`).test(e)}function Rr(e){const t=e.match(new RegExp(`^${Ar.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Jn(t[1])}}function _r(e,t,n){const r=t.tags.filter((e=>e.length>=2&&("e"===e[0]||"p"===e[0])));return Nn({...e,kind:7,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function Sr(e){if(7!==e.kind)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const o=e.tags[r];o.length>=2&&("e"===o[0]&&void 0===t?t=o:"p"===o[0]&&void 0===n&&(n=o))}return void 0!==t&&void 0!==n?{id:t[1],relays:[t[2],n[2]].filter((e=>void 0!==e)),author:n[1]}:void 0}function Or(e,t){let n=[];(t.kind||-1)>=0&&n.push(`kind=${t.kind}`),t.until&&n.push(`created_at<${t.until}`),t.since&&n.push(`created_at>${t.since}`);let r=n.join("&");if(""===r)throw new Error("refusing to create a delegation without any conditions");let o=T(On.encode(`nostr:delegation:${t.pubkey}:${r}`)),i=b(tt.sign(o,e));return{from:_n(e),to:t.pubkey,cond:r,sig:i}}function Ir(e){let t=e.tags.find((e=>"delegation"===e[0]&&e.length>=4));if(!t)return null;let n=t[1],r=t[2],o=t[3],i=r.split("&");for(let t=0;t<i.length;t++){let[n,r,o]=i[t].split(/\b/);if(("kind"!==n||"="!==r||e.kind!==parseInt(o))&&!("created_at"===n&&"<"===r&&e.created_at<parseInt(o)||"created_at"===n&&">"===r&&e.created_at>parseInt(o)))return null}let s=T(On.encode(`nostr:delegation:${e.pubkey}:${r}`));return tt.verify(o,s,n)?n:null}Rn({},{finishReactionEvent:()=>_r,getReactedEventPointer:()=>Sr}),Rn({},{createDelegation:()=>Or,getDelegator:()=>Ir}),Rn({},{matchAll:()=>Tr,regex:()=>Lr,replaceAll:()=>Ur});var Lr=()=>new RegExp(`\\b${Ar.source}\\b`,"g");function*Tr(e){const t=e.matchAll(Lr());for(const e of t)try{const[t,n]=e;yield{uri:t,value:n,decoded:Jn(n),start:e.index,end:e.index+t.length}}catch(e){}}function Ur(e,t){return e.replaceAll(Lr(),((e,n)=>t({uri:e,value:n,decoded:Jn(n)})))}Rn({},{useFetchImplementation:()=>Hr,validateGithub:()=>Nr});try{fetch}catch{}function Hr(e){}async function Nr(e,t,n){try{return!1}catch(e){return!1}}Rn({},{authenticate:()=>jr});var Cr,jr=async({challenge:e,relay:t,sign:n})=>{const r={kind:22242,created_at:Math.floor(Date.now()/1e3),tags:[["relay",t.url],["challenge",e]],content:""},o=t.auth(await n(r));return new Promise(((e,t)=>{o.on("ok",(function t(){o.off("ok",t),e()})),o.on("failed",(function e(n){o.off("failed",e),t(n)}))}))};Rn({},{getZapEndpoint:()=>Pr,makeZapReceipt:()=>qr,makeZapRequest:()=>Dr,useFetchImplementation:()=>$r,validateZapRequest:()=>Fr});try{Cr=fetch}catch{}function $r(e){Cr=e}async function Pr(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:e}=Rt.decode(n,1e3),r=Rt.fromWords(e);t=Sn.decode(r)}else{if(!r)return null;{let[e,n]=r.split("@");t=`https://${n}/.well-known/lnurlp/${e}`}}let o=await Cr(t),i=await o.json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch(e){}return null}function Dr({profile:e,event:t,amount:n,relays:r,comment:o=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",n.toString()],["relays",...r]]};return t&&i.tags.push(["e",t]),i}function Fr(e){let t;try{t=JSON.parse(e)}catch(e){return"Invalid zap request JSON."}if(!$n(t))return"Zap request is not a valid Nostr event.";if(!Pn(t))return"Invalid signature on zap request.";let n=t.tags.find((([e,t])=>"p"===e&&t));if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find((([e,t])=>"e"===e&&t));return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find((([e,t])=>"relays"===e&&t))?null:"Zap request doesn't have a 'relays' tag."}function qr({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let o=JSON.parse(e).tags.filter((([e])=>"e"===e||"p"===e||"a"===e)),i={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...o,["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vr=wp.i18n,Gr=(Vr.__,Vr._x),Mr=(Vr._n,Vr._nx,wp.element),Wr=Mr.render,Zr=Mr.useEffect,Yr=Mr.useState,Jr=Mr.Fragment,Qr=(Mr.useRef,{nip19:Wn,SimplePool:class{_conn;_seenOn={};eoseSubTimeout;getTimeout;constructor(e={}){this._conn={},this.eoseSubTimeout=e.eoseSubTimeout||3400,this.getTimeout=e.getTimeout||3400}close(e){e.forEach((e=>{let t=this._conn[In(e)];t&&t.close()}))}async ensureRelay(e){const t=In(e);this._conn[t]||(this._conn[t]=Mn(t,{getTimeout:.9*this.getTimeout,listTimeout:.9*this.getTimeout}));const n=this._conn[t];return await n.connect(),n}sub(e,t,n){let r=new Set,o={...n||{}};o.alreadyHaveEvent=(e,t)=>{if(n?.alreadyHaveEvent?.(e,t))return!0;let o=this._seenOn[e]||new Set;return o.add(t),this._seenOn[e]=o,r.has(e)};let i=[],s=new Set,a=new Set,c=e.length,l=!1,u=setTimeout((()=>{l=!0;for(let e of a.values())e()}),this.eoseSubTimeout);e.forEach((async e=>{let n;try{n=await this.ensureRelay(e)}catch(e){return void d()}if(!n)return;let f=n.sub(t,o);function d(){if(c--,0===c){clearTimeout(u);for(let e of a.values())e()}}f.on("event",(e=>{r.add(e.id);for(let t of s.values())t(e)})),f.on("eose",(()=>{l||d()})),i.push(f)}));let f={sub:(e,t)=>(i.forEach((n=>n.sub(e,t))),f),unsub(){i.forEach((e=>e.unsub()))},on(e,t){"event"===e?s.add(t):"eose"===e&&a.add(t)},off(e,t){"event"===e?s.delete(t):"eose"===e&&a.delete(t)}};return f}get(e,t,n){return new Promise((r=>{let o=this.sub(e,[t],n),i=setTimeout((()=>{o.unsub(),r(null)}),this.getTimeout);o.on("event",(e=>{r(e),clearTimeout(i),o.unsub()}))}))}list(e,t,n){return new Promise((r=>{let o=[],i=this.sub(e,t,n);i.on("event",(e=>{o.push(e)})),i.on("eose",(()=>{i.unsub(),r(o)}))}))}publish(e,t){const n=e.map((async e=>{let n;try{return n=await this.ensureRelay(e),n.publish(t)}catch(e){return{on(){},off(){}}}})),r=new Map;return{on(t,o){e.forEach((async(e,i)=>{let s=await n[i],a=()=>o(e);r.set(o,a),s.on(t,a)}))},off(t,o){e.forEach((async(e,i)=>{let s=r.get(o);s&&(await n[i]).off(t,s)}))}}}seenOn(e){return Array.from(this._seenOn[e]?.values?.()||[])}},getEventHash:Cn,relayInit:Mn}),Xr=function(e){var n=a(Yr(!0),2),s=n[0],c=n[1],u=a(Yr(!1),2),f=u[0],d=u[1];Zr((function(){window.addEventListener("load",(function(){window.nostr?setTimeout((function(){d({status:!0,data:!1})}),250):setTimeout((function(){d({status:!1,data:Gr("NIP-07 extension could not be detected. Make sure to have a NIP-07 extension installed, then reload this window and try again.","react component error","postr-for-nostr")})}),250)}))}),[]);var h=a(Yr(!1),2),p=h[0],y=h[1];Zr((function(){f&&f.status&&setTimeout((function(){postr_for_nostr_localize.data.post_data?postr_for_nostr_localize.data.post_type in postr_for_nostr_localize.data.post_types?y({status:!0,data:postr_for_nostr_localize.data.post_data}):y({status:!1,data:Gr("Posts from this post type cannot be postred.","component error","postr-for-nostr")}):y({status:!1,data:Gr("Invalid Post Data","component error","postr-for-nostr")})}),250)}),[f]);var g=a(Yr(!1),2),b=g[0],m=g[1];Zr((function(){!p||!p.status||b&&b.status||window.nostr.getPublicKey().catch((function(e){m({status:!1,data:e.message})})).then((function(e){e?(m({status:!0,data:e}),setTimeout((function(){document.body.classList.remove("postr-for-nostr-app--initializing"),c(!1)}),500)):m({status:!1,data:Gr("User denied","component error","postr-for-nostr")})}))}),[p]);var w=a(Yr({}),2),v=w[0],E=w[1];Zr((function(){b.status&&(A(zr(zr({},k),{},{npub:Qr.nip19.npubEncode(b.data),pubkey:b.data,fetch:!0})),window.nostr.getRelays().then((function(e){"object"===i(e)&&E(e)})))}),[b]);var x=a(Yr({name:Gr("Anonymous Postr","postr profile component name","postr-for-nostr"),picture:postr_for_nostr_localize.data.profile_placeholder,npub:"xxxxxxxxxxxxxxxxx",fetch:!0}),2),k=x[0],A=x[1];Zr((function(){if("object"===i(v)&&Object.keys(v).length&&k.fetch){var e=(new Qr.SimplePool).sub(Object.keys(v),[{authors:[b.data],kinds:[0]}]);e.on("event",(function(e){var t=JSON.parse(e.content);if(k.fetch||e.pubkey!==k.pubkey){var n=zr({},k);n.pubkey=b.data,n.npub=Qr.nip19.npubEncode(b.data),n.fetch=!1,t.picture&&t.picture.length&&(n.picture=t.picture),t.username&&t.username.length&&(n.name=t.username),t.displayName&&t.displayName.length&&(n.name=t.displayName),t.display_name&&t.display_name.length&&(n.name=t.display_name),A(n)}})),e.on("eose",(function(){e.unsub()}))}}),[v]);var B=a(Yr(""),2),R=B[0],_=B[1],S=a(Yr({total:0,list:[]}),2),O=S[0],I=S[1];Zr((function(){if(!s){var e=0;Object.keys(p.data.taxonomies).map((function(t){e+=Object.keys(p.data.taxonomies[t].terms).length})),I(zr(zr({},O),{},{total:e}));var t="".concat(p.data.title,"\n\n");p.data.excerpt.length&&(t+="".concat(p.data.excerpt,"\n\n")),t+=p.data.permalink,_(t)}}),[s]);var L=function(e){return React.createElement(Jr,null,React.createElement("div",{className:"postr-for-nostr-app__state-loader"},e.state?e.state.status?"✅":"❌":React.createElement("div",{class:"postr-for-nostr-app__spinner"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null))),!1===e.state||e.state.status?e.task:e.state.data)},T=function(e){return React.createElement("div",{className:"postr-for-nostr-app__verify-nip07"},React.createElement("ul",{className:"postr-for-nostr-app__state-indicator-list"},React.createElement("li",null,React.createElement(L,{state:f,task:Gr("Looking for NIP-07 extension","component initalize task","postr-for-nostr")})),React.createElement("li",null,React.createElement(L,{state:p,task:Gr("Verifying post data","component initalize task","postr-for-nostr")})),React.createElement("li",null,React.createElement(L,{state:b,task:Gr("Retrieving public key","component initalize task","postr-for-nostr")}))))},U=a(Yr(!1),2),H=U[0],N=U[1],C=function(e){var t=a(Yr(!1),2),n=t[0],r=t[1],o=a(Yr(""),2),i=o[0],s=o[1],c=function(){var e=Object.assign({},v);e[i]={read:!0,write:!0},E(e)};return React.createElement("div",{className:"postr-for-nostr-app__postr-relays"},v&&React.createElement("button",{type:"button",className:"postr-for-nostr-app__postr-relays-toggle",onClick:function(){return N(!H)}},React.createElement("span",{className:"postr-for-nostr-app__postr-relays-toggle-title"},Object.keys(v).length+" Relays"),React.createElement("span",{className:"postr-for-nostr-app__postr-relays-toggle-horizontal"},React.createElement("span",{className:"postr-for-nostr-app__postr-relays-toggle-line"}),H&&React.createElement("span",{class:"dashicons dashicons-arrow-down-alt2"}),!H&&React.createElement("span",{class:"dashicons dashicons-arrow-up-alt2"}))),v&&H&&React.createElement("ul",{className:"postr-for-nostr-app__postr-relays"},Object.keys(v).map((function(e){if(e.length&&v[e].write)return React.createElement("li",{key:e},React.createElement("span",{className:"postr-for-nostr-app__postr-relay-label"},e),React.createElement("button",{title:"Remove Relay",type:"button",onClick:function(){var t=Object.assign({},v);delete t[e],E(t)}},React.createElement("span",{className:"dashicons dashicons-remove"})))})),React.createElement("li",{class:"postr-for-nostr-app__postr-relay-add"},React.createElement("input",{placeholder:"Add relay …",value:i,className:"postr-for-nostr-app__postr-relay-label",onChange:function(e){var t,n=(t=e.target.value,/^wss:\/\/[^\/]{2,}\.[^\/]{2,}.*$/.test(t));r(!!n),s(e.target.value)},onKeyDown:function(e){"Enter"==e.key&&(e.preventDefault(),n&&c())}}),React.createElement("button",{title:Gr("Add Relay","relays component button label","postr-for-nostr"),type:"button",disabled:!n,onClick:c},n?React.createElement("span",{class:"dashicons dashicons-insert"}):React.createElement("span",{class:"dashicons dashicons-info-outline"})))))},j=a(Yr(!1),2),$=j[0],P=j[1],D=function(e){var t=a(Yr(!1),2),n=t[0],r=t[1],o=a(Yr(""),2),i=o[0],s=o[1],c=function(){if(!O.list["custom-"+i.toLowerCase()]){var e=Object.assign({},O);e.list["custom-"+i.toLowerCase()]=i;var t=0;Object.keys(p.data.taxonomies).map((function(e){t+=Object.keys(p.data.taxonomies[e].terms).length})),Object.keys(e.list).map((function(e){e.startsWith("custom-")&&t++})),e.total=t,I(e)}};return React.createElement("div",{className:"postr-for-nostr-app__postr-tags"},O&&React.createElement("button",{type:"button",className:"postr-for-nostr-app__postr-tags-toggle",onClick:function(){return P(!$)}},React.createElement("span",{className:"postr-for-nostr-app__postr-tags-toggle-title"},Object.keys(O.list).length+"/"+O.total+" Tags"),React.createElement("span",{className:"postr-for-nostr-app__postr-tags-toggle-horizontal"},React.createElement("span",{className:"postr-for-nostr-app__postr-tags-toggle-line"}),$&&React.createElement("span",{class:"dashicons dashicons-arrow-down-alt2"}),!$&&React.createElement("span",{class:"dashicons dashicons-arrow-up-alt2"}))),O&&$&&React.createElement(Jr,null,React.createElement("p",{className:"postr-for-nostr-app__postr-tag-notice"},React.createElement("i",null,Gr("These tags are added as type t tags in the Nostr event object.","tags component notice","postr-for-nostr"))),React.createElement("div",{className:"postr-for-nostr-app__postr-tag-types"},Object.keys(p.data.taxonomies).map((function(e){if(Object.keys(p.data.taxonomies[e].terms).length)return React.createElement("div",null,React.createElement("h5",null,p.data.taxonomies[e].name),React.createElement("ul",null,Object.keys(p.data.taxonomies[e].terms).map((function(t){var n=e+"-"+t;return React.createElement("li",null,React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:O.list[n],value:n,onClick:function(){var r=Object.assign({},O);r.list[n]?delete r.list[n]:r.list[n]=p.data.taxonomies[e].terms[t],I(r)}}),p.data.taxonomies[e].terms[t]))}))))})),React.createElement("div",{className:"postr-for-nostr-app__postr-tags-custom"},React.createElement("h5",null,Gr("Add custom tags","tags component title","postr-for-nostr")),React.createElement("ul",null,Object.keys(O.list).map((function(e){if(e.startsWith("custom-"))return React.createElement("li",{key:e},React.createElement("span",{className:"postr-for-nostr-app__postr-tag-label"},O.list[e]),React.createElement("button",{title:"Remove Tag",type:"button",onClick:function(){var t=Object.assign({},O);delete t.list[e],I(t)}},React.createElement("span",{className:"dashicons dashicons-remove"})))})),React.createElement("li",{class:"postr-for-nostr-app__postr-tag-add"},React.createElement("input",{placeholder:"Add tag …",value:i,className:"postr-for-nostr-app__postr-tag-label",onChange:function(e){var t,n=(t=e.target.value,/^[a-zA-Z0-9]+$/.test(t)||O.list["custom-"+e.target.value.toLowerCase()]);r(!!n),s(e.target.value)},onKeyDown:function(e){"Enter"==e.key&&(e.preventDefault(),n&&c())}}),React.createElement("button",{title:Gr("Add tag","tags component button label","postr-for-nostr"),disabled:!n||void 0!==O.list["custom-"+i.toLowerCase()],type:"button",onClick:c},n?React.createElement("span",{class:"dashicons dashicons-insert"}):React.createElement("span",{class:"dashicons dashicons-info-outline"}))))))))},F=a(Yr(!1),2),q=F[0],K=F[1],z=function(e){return e.preventDefault(),K(!0),!1},V=function(){return React.createElement("div",{className:"postr-for-nostr-app__postr"},React.createElement("h2",{className:"postr-for-nostr-app__postr-title"},Gr("Postr For Nostr","form component title","postr-for-nostr")),!q&&React.createElement(G,null),q&&React.createElement(M,null))},G=function(){return React.createElement("form",{className:"postr-for-nostr-app__postr-form",onSubmit:z},React.createElement("fieldset",{className:"postr-for-nostr-app__postr-profile"},React.createElement("label",null,React.createElement("strong",null,Gr("Profile","form component label","postr-for-nostr"))),React.createElement("div",null,React.createElement("figure",null,k.picture&&React.createElement("img",{src:k.picture,alt:Gr("Profile image","form component image alt title","postr-for-nostr")})),React.createElement("p",null,React.createElement("strong",null,k.name),React.createElement("span",null,(t=(e=k.npub).substring(0,8),t+=":",t+=e.substring(e.length-8)))))),React.createElement("fieldset",null,React.createElement("label",null,React.createElement("strong",null,Gr("Note","form component label","postr-for-nostr"))),React.createElement("div",null,React.createElement("textarea",{name:"note",defaultValue:R,placeholder:Gr("Write notes and other stuff…","form component textare placeholder","postr-for-nostr"),rows:6,onBlur:function(e){var t=e.target.value;_(t)}}),React.createElement("ul",null,Object.keys(O.list).map((function(e){return React.createElement("li",null,"#"+O.list[e])}))))),React.createElement("fieldset",null,React.createElement("label",null,React.createElement("strong",null,Gr("Tags","form component label","postr-for-nostr"))),React.createElement("div",null,React.createElement(D,null))),React.createElement("fieldset",null,React.createElement("label",null,React.createElement("strong",null,Gr("Relays","form component label","postr-for-nostr"))),React.createElement("div",null,React.createElement(C,null))),React.createElement("fieldset",{className:"postr-for-nostr-app__postr-actions"},React.createElement("label",null,React.createElement("strong",null,Gr("Form Actions","form component label","postr-for-nostr"))),React.createElement("div",null,React.createElement("button",{type:"submit",className:"button button-primary"},Gr("Transmit to Nostr","form component button label","postr-for-nostr")))));var e,t},M=function(){var e=a(Yr(!1),2),n=e[0],i=e[1],s=a(Yr([]),2),c=s[0],u=s[1],f=a(Yr(v),2),d=f[0],h=f[1];return Zr((function(){var e={kind:1,pubkey:b.data,created_at:Math.floor(Date.now()/1e3),tags:[],content:R};for(var n in O.list)e.tags.push(["t",O.list[n]]);e.id=Qr.getEventHash(e),window.nostr.signEvent(e).then((function(e){var t={};Object.keys(v).map(function(){var n,r=(n=l().mark((function n(r){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=zr({},d))[r].init=Qr.relayInit(r),t[r].init.on("error",(function(){(t=zr({},d))[r].success=!1,h(t)})),n.prev=3,n.next=6,t[r].init.connect();case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(3);case 10:t[r].pub=t[r].init.publish(e),t[r].pub.on("ok",(function(){(t=zr({},d))[r].success=!0,h(t)})),t[r].pub.on("failed",(function(e){(t=zr({},d))[r].success=!1,h(t)}));case 13:case"end":return n.stop()}}),n,null,[[3,8]])})),function(){var e=this,t=arguments;return new Promise((function(r,i){var s=n.apply(e,t);function a(e){o(s,r,i,a,c,"next",e)}function c(e){o(s,r,i,a,c,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()),i(e),h(t)})).catch((function(e){var n;u([].concat(function(e){if(Array.isArray(e))return t(e)}(n=c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||r(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{title:Gr("Event could not be signed","postring component error","postr-for-nostr"),message:e.message}]))}))}),[]),console.log(d),React.createElement("div",{className:"postr-for-nostr-app__postring"},!c.length&&React.createElement("div",{className:"postr-for-nostr-app__postring-status"},React.createElement("div",null,React.createElement("strong",null,Gr("Event ID","postring component title","postr-for-nostr")),React.createElement("br",null),n?n.id:React.createElement("div",{class:"postr-for-nostr-app__spinner"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null))),React.createElement("ul",null,Object.keys(v).map((function(e){return React.createElement("li",null,void 0===d[e].success?React.createElement("div",{class:"postr-for-nostr-app__spinner"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null)):d[e].success?React.createElement("div",null,"✅"):React.createElement("div",null,"❌"),React.createElement("strong",null,e))})))),!!c.length&&React.createElement("div",{className:"postr-for-nostr-app__postring-errors"},React.createElement("span",null,"🚫"),React.createElement("h3",null,Gr("Failed to postr for the following reasons:","postring component error","postr-for-nostr")),React.createElement("ul",null,c.map((function(e){return React.createElement("li",null,React.createElement("strong",null,e.title),React.createElement("br",null),e.message)}))),React.createElement("button",{type:"button",onClick:function(){window.location.reload()}},Gr("Reload and try again","postring component button label","postr-for-nostr"))))};return React.createElement(Jr,null,s&&React.createElement(T,null),!s&&React.createElement(V,null))};const eo=document.getElementById("postr-for-nostr-app");var to;eo&&(to=eo,Wr(React.createElement(Xr,null),to))})()})();